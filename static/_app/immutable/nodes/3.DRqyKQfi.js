import{b as Re,d as Ze,f as C,a as b,t as fe,c as Be}from"../chunks/DrCJRn1F.js";import{i as he}from"../chunks/D91holPO.js";import{o as Pe}from"../chunks/DPxI6g8O.js";import{aj as T,h as se,m as Ve,N as $e,aQ as et,k as De,C as tt,i as at,aM as rt,aJ as st,j as lt,g as ue,as as ot,aR as it,aS as nt,aT as dt,aU as vt,aV as ct,aW as ut,q as ae,aO as ft,d as Y,aq as mt,aX as pt,p as xe,ad as t,ae as o,G as r,a4 as y,ag as a,ai as me,a as ge,L as f,ah as pe,Z as ht}from"../chunks/CltlFA8S.js";import{i as L}from"../chunks/DQmYbFqU.js";import{a as le,s as I,u as xt,b as gt,c as bt,g as _t,r as wt}from"../chunks/CV4rCtEz.js";import{e as U,s as A}from"../chunks/2_LbdYvd.js";import{p as re}from"../chunks/CBsvdH31.js";function kt(e,s,l=!1,n=!1,i=!1){var m=e,x="";T(()=>{var d=$e;if(x===(x=s()??"")){se&&Ve();return}if(d.nodes!==null&&(et(d.nodes.start,d.nodes.end),d.nodes=null),x!==""){if(se){De.data;for(var v=Ve(),c=v;v!==null&&(v.nodeType!==tt||v.data!=="");)c=v,v=at(v);if(v===null)throw rt(),st;Re(De,c),m=lt(v);return}var _=x+"";l?_=`<svg>${_}</svg>`:n&&(_=`<math>${_}</math>`);var w=Ze(_);if((l||n)&&(w=ue(w)),Re(ue(w),w.lastChild),l||n)for(;ue(w);)m.before(ue(w));else m.before(w)}})}const yt=Symbol("is custom element"),Mt=Symbol("is html");function Ne(e){if(se){var s=!1,l=()=>{if(!s){if(s=!0,e.hasAttribute("value")){var n=e.value;Te(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var i=e.checked;Te(e,"checked",null),e.checked=i}}};e.__on_r=l,ot(l),it()}}function Te(e,s,l,n){var i=Ct(e);se&&(i[s]=e.getAttribute(s),s==="src"||s==="srcset"||s==="href"&&e.nodeName==="LINK")||i[s]!==(i[s]=l)&&(s==="loading"&&(e[vt]=l),l==null?e.removeAttribute(s):typeof l!="string"&&jt(e).includes(s)?e[s]=l:e.setAttribute(s,l))}function Ct(e){return e.__attributes??={[yt]:e.nodeName.includes("-"),[Mt]:e.namespaceURI===nt}}var Je=new Map;function jt(e){var s=e.getAttribute("is")||e.nodeName,l=Je.get(s);if(l)return l;Je.set(s,l=[]);for(var n,i=e,m=Element.prototype;m!==i;){n=ct(i);for(var x in n)n[x].set&&l.push(x);i=dt(i)}return l}function Ie(e,s,l=s){var n=new WeakSet;ut(e,"input",async i=>{var m=i?e.defaultValue:e.value;if(m=je(e)?Ae(m):m,l(m),ae!==null&&n.add(ae),await ft(),m!==(m=s())){var x=e.selectionStart,d=e.selectionEnd,v=e.value.length;if(e.value=m??"",d!==null){var c=e.value.length;x===d&&d===v&&c>v?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=x,e.selectionEnd=Math.min(d,c))}}}),(se&&e.defaultValue!==e.value||Y(s)==null&&e.value)&&(l(je(e)?Ae(e.value):e.value),ae!==null&&n.add(ae)),mt(()=>{var i=s();if(e===document.activeElement){var m=pt??ae;if(n.has(m))return}je(e)&&i===Ae(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function je(e){var s=e.type;return s==="number"||s==="range"}function Ae(e){return e===""?null:+e}function At(e){return function(...s){var l=s[0];return l.preventDefault(),e?.apply(this,s)}}var St=C('<div class="bg-red-500/10 border border-red-500/50 rounded-lg p-4"><p class="text-red-400 text-sm text-center"> </p></div>'),Bt=C('<span class="inline-flex items-center"><svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Signing in...</span>'),Tt=C('<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900"><div class="w-full max-w-md"><div class="bg-slate-800/50 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-700/50 p-8"><div class="text-center mb-8"><div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-emerald-400 to-cyan-500 mb-4"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg></div> <h1 class="text-2xl font-bold text-white">Admin Console</h1> <p class="text-slate-400 mt-2">SOTA/POTA Reference Manager</p></div> <form class="space-y-6"><!> <div><label for="email" class="block text-sm font-medium text-slate-300 mb-2">Email</label> <input type="email" id="email" required class="w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all" placeholder="admin@example.com"/></div> <div><label for="password" class="block text-sm font-medium text-slate-300 mb-2">Password</label> <input type="password" id="password" required class="w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all" placeholder="Enter your password"/></div> <button type="submit" class="w-full py-3 px-4 bg-gradient-to-r from-emerald-500 to-cyan-500 hover:from-emerald-600 hover:to-cyan-600 text-white font-semibold rounded-lg shadow-lg shadow-emerald-500/25 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"><!></button></form></div> <p class="text-center text-slate-500 text-sm mt-6">Secured by Firebase Authentication</p></div></div>');function zt(e,s){xe(s,!1);let l=y(""),n=y(""),i=y(""),m=y(!1);async function x(){f(i,""),f(m,!0);const p=await le.login(r(l),r(n));p.success||f(i,p.error||"Login failed"),f(m,!1)}he();var d=Tt(),v=t(d),c=t(v),_=o(t(c),2),w=t(_);{var H=p=>{var M=St(),G=t(M),K=t(G,!0);a(G),a(M),T(()=>A(K,r(i))),b(p,M)};L(w,p=>{r(i)&&p(H)})}var k=o(w,2),P=o(t(k),2);Ne(P),a(k);var R=o(k,2),F=o(t(R),2);Ne(F),a(R);var O=o(R,2),V=t(O);{var Q=p=>{var M=Bt();b(p,M)},q=p=>{var M=fe("Sign In");b(p,M)};L(V,p=>{r(m)?p(Q):p(q,!1)})}a(O),a(_),a(c),me(2),a(v),a(d),T(()=>O.disabled=r(m)),Ie(P,()=>r(l),p=>f(l,p)),Ie(F,()=>r(n),p=>f(n,p)),U("submit",_,At(x)),b(e,d),ge()}var Lt=C('<div class="flex items-center justify-center gap-3"><svg class="w-8 h-8 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <div class="text-left"><p class="text-white font-medium truncate max-w-[200px]"> </p> <p class="text-slate-400 text-sm"> </p></div> <button class="ml-2 p-1 text-slate-400 hover:text-red-400 transition-colors" aria-label="Remove file"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>'),Ut=C('<input type="file" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer"/> <svg class="mx-auto h-10 w-10 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg> <p class="mt-2 text-sm text-slate-400"><span class="text-emerald-400 font-medium">クリックしてアップロード</span> またはドラッグ＆ドロップ</p> <p class="text-xs text-slate-500 mt-1">CSVファイルのみ (最大64MB)</p>',1),Ht=C("<div><p> </p></div>"),Ot=C('<span class="inline-flex items-center justify-center"><svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> アップロード中...</span>'),Et=C('<div class="bg-slate-800/50 backdrop-blur-xl rounded-2xl border border-slate-700/50 overflow-hidden transition-all duration-300 hover:border-slate-600/50 hover:shadow-xl hover:shadow-slate-900/50"><div class="p-6"><div class="flex items-start gap-4 mb-4"><div class="flex-shrink-0 w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-400/20 to-cyan-500/20 flex items-center justify-center"><svg class="w-6 h-6 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><!></svg></div> <div><h3 class="text-lg font-semibold text-white"> </h3> <p class="text-sm text-slate-400"> </p></div></div> <div role="button" tabindex="0"><!></div> <!> <button class="mt-4 w-full py-3 px-4 bg-gradient-to-r from-emerald-500 to-cyan-500 hover:from-emerald-600 hover:to-cyan-600 text-white font-semibold rounded-lg shadow-lg shadow-emerald-500/25 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none"><!></button></div></div>');function Se(e,s){xe(s,!1);let l=re(s,"title",8),n=re(s,"description",8),i=re(s,"icon",8),m=re(s,"accept",8,".csv"),x=re(s,"onUpload",8),d=y(null),v=y(!1),c=y(null),_=y(!1);function w(u){const g=u.target;g.files&&g.files[0]&&(f(d,g.files[0]),f(c,null))}function H(u){u.preventDefault(),f(_,!1),u.dataTransfer?.files&&u.dataTransfer.files[0]&&(f(d,u.dataTransfer.files[0]),f(c,null))}function k(u){u.preventDefault(),f(_,!0)}function P(){f(_,!1)}async function R(){r(d)&&(f(v,!0),f(c,await x()(r(d))),f(v,!1),r(c).success&&f(d,null))}function F(){f(d,null),f(c,null)}const O={mountain:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3l3.5 7-3 4 6-2 3.5 7 3.5-7 6 2-3-4 3.5-7-6.5 2L12 3l-1 2-6-2z" />',park:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />',location:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />'};he();var V=Et(),Q=t(V),q=t(Q),p=t(q),M=t(p),G=t(M);kt(G,()=>(ht(i()),Y(()=>O[i()])),!0),a(M),a(p);var K=o(p,2),$=t(K),oe=t($,!0);a($);var X=o($,2),Z=t(X,!0);a(X),a(K),a(q);var E=o(q,2),be=t(E);{var _e=u=>{var g=Lt(),j=o(t(g),2),N=t(j),ie=t(N,!0);a(N);var ne=o(N,2),ee=t(ne);a(ne),a(j);var de=o(j,2);a(g),T(ve=>{A(ie,(r(d),Y(()=>r(d).name))),A(ee,`${ve??""} KB`)},[()=>(r(d),Y(()=>(r(d).size/1024).toFixed(1)))]),U("click",de,F),b(u,g)},we=u=>{var g=Ut(),j=pe(g);me(6),T(()=>Te(j,"accept",m())),U("change",j,w),b(u,g)};L(be,u=>{r(d)?u(_e):u(we,!1)})}a(E);var h=o(E,2);{var z=u=>{var g=Ht(),j=t(g),N=t(j,!0);a(j),a(g),T(()=>{I(g,1,`mt-4 p-3 rounded-lg ${r(c),Y(()=>r(c).success?"bg-emerald-500/10 border border-emerald-500/30":"bg-red-500/10 border border-red-500/30")??""}`),I(j,1,`${r(c),Y(()=>r(c).success?"text-emerald-400":"text-red-400")??""} text-sm text-center`),A(N,(r(c),Y(()=>r(c).message)))}),b(u,g)};L(h,u=>{r(c)&&u(z)})}var S=o(h,2),W=t(S);{var ke=u=>{var g=Ot();b(u,g)},D=u=>{var g=fe("アップロード");b(u,g)};L(W,u=>{r(v)?u(ke):u(D,!1)})}a(S),a(Q),a(V),T(()=>{A(oe,l()),A(Z,n()),I(E,1,`relative border-2 border-dashed rounded-xl p-6 text-center transition-all duration-200 ${r(_)?"border-emerald-500 bg-emerald-500/10":"border-slate-600 hover:border-slate-500"}`),S.disabled=!r(d)||r(v)}),U("drop",E,H),U("dragover",E,k),U("dragleave",E,P),U("click",S,R),b(e,V),ge()}var Rt=C('<div class="p-4 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400"> </div>'),Vt=C('<p class="text-xs text-slate-400 mt-1"> </p>'),Dt=C('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"><div class="p-4 bg-slate-800/50 rounded-xl border border-slate-700/50"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center"><svg class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <div><p class="text-sm text-slate-400">Uptime</p> <p class="text-lg font-semibold text-white"> </p></div></div></div> <div class="p-4 bg-slate-800/50 rounded-xl border border-slate-700/50"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center"><svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg></div> <div><p class="text-sm text-slate-400">Memory</p> <p class="text-lg font-semibold text-white"><!></p></div></div></div> <div class="p-4 bg-slate-800/50 rounded-xl border border-slate-700/50"><div class="flex items-center gap-3"><div><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"></path></svg></div> <div><p class="text-sm text-slate-400">Database</p> <p> </p></div></div></div> <div class="p-4 bg-slate-800/50 rounded-xl border border-slate-700/50"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-lg bg-orange-500/20 flex items-center justify-center"><svg class="w-5 h-5 text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></div> <div class="flex-1"><p class="text-sm text-slate-400">Server Control</p> <button> </button> <!></div></div></div></div>'),Nt=C('<div class="p-4 bg-slate-800/50 rounded-xl border border-slate-700/50 text-center text-slate-400">Loading metrics...</div>'),Jt=C('<div class="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900"><nav class="bg-slate-800/50 backdrop-blur-xl border-b border-slate-700/50"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex items-center justify-between h-16"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-400 to-cyan-500 flex items-center justify-center"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3l3.5 7-3 4 6-2 3.5 7 3.5-7 6 2-3-4 3.5-7-6.5 2L12 3l-1 2-6-2z"></path></svg></div> <div><h1 class="text-lg font-bold text-white">Admin Console</h1> <p class="text-xs text-slate-400">Reference Data Manager</p></div></div> <div class="flex items-center gap-4"><div class="hidden sm:flex items-center gap-2 text-sm text-slate-400"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> <span> </span></div> <button class="inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-slate-300 hover:text-white bg-slate-700/50 hover:bg-slate-700 rounded-lg transition-all duration-200"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg> Logout</button></div></div></div></nav> <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="mb-8"><h2 class="text-2xl font-bold text-white">Reference Data Upload</h2> <p class="text-slate-400 mt-1">Upload CSV files to update reference databases</p></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><!> <!> <!></div> <div class="mt-12 p-6 bg-slate-800/30 rounded-2xl border border-slate-700/50"><h3 class="text-lg font-semibold text-white mb-4">Upload Guidelines</h3> <ul class="space-y-2 text-sm text-slate-400"><li class="flex items-start gap-2"><svg class="w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span>Files must be in CSV format with UTF-8 encoding</span></li> <li class="flex items-start gap-2"><svg class="w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span>Maximum file size: 64MB</span></li> <li class="flex items-start gap-2"><svg class="w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span>Existing records will be updated, new records will be added</span></li></ul></div> <div class="mt-12"><div class="flex items-center justify-between mb-6"><div><h2 class="text-2xl font-bold text-white">System Status</h2> <p class="text-slate-400 mt-1">Server metrics and controls</p></div> <button class="inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-300 hover:text-white bg-slate-700/50 hover:bg-slate-700 rounded-lg transition-all duration-200 disabled:opacity-50"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> Refresh</button></div> <!></div></main> <footer class="mt-auto py-6 text-center text-slate-500 text-sm"><p>SOTA/POTA Reference Manager &copy; 2025</p></footer></div>');function It(e,s){xe(s,!1);let l=y(""),n=y(null),i=y(""),m=y(!1),x=y(!1),d=y("");le.subscribe(h=>{f(l,h.email||"")});function v(){le.logout()}async function c(){f(m,!0),f(i,"");const h=await _t();h.success&&h.data?f(n,h.data):f(i,h.message||"メトリクス取得失敗"),f(m,!1)}async function _(){if(!r(x)){f(x,!0),setTimeout(()=>{f(x,!1)},5e3);return}f(x,!1),f(d,"リスタート中...");const h=await wt();f(d,h.message)}function w(h){const z=Math.floor(h/86400),S=Math.floor(h%86400/3600),W=Math.floor(h%3600/60);return z>0?`${z}d ${S}h ${W}m`:S>0?`${S}h ${W}m`:`${W}m`}Pe(()=>{c();const h=setInterval(c,3e4);return()=>clearInterval(h)}),he();var H=Jt(),k=t(H),P=t(k),R=t(P),F=o(t(R),2),O=t(F),V=o(t(O),2),Q=t(V,!0);a(V),a(O);var q=o(O,2);a(F),a(R),a(P),a(k);var p=o(k,2),M=o(t(p),2),G=t(M);Se(G,{title:"POTA Parks",description:"Upload POTA park reference list",icon:"park",accept:".csv",get onUpload(){return xt}});var K=o(G,2);Se(K,{title:"SOTA JA Summits",description:"Upload SOTA Japan summit reference",icon:"mountain",accept:".csv",get onUpload(){return gt}});var $=o(K,2);Se($,{title:"JCC/JCG List",description:"Upload JCC/JCG location codes",icon:"location",accept:".csv",get onUpload(){return bt}}),a(M);var oe=o(M,4),X=t(oe),Z=o(t(X),2),E=t(Z);me(),a(Z),a(X);var be=o(X,2);{var _e=h=>{var z=Rt(),S=t(z,!0);a(z),T(()=>A(S,r(i))),b(h,z)},we=h=>{var z=Be(),S=pe(z);{var W=D=>{var u=Dt(),g=t(u),j=t(g),N=o(t(j),2),ie=o(t(N),2),ne=t(ie,!0);a(ie),a(N),a(j),a(g);var ee=o(g,2),de=t(ee),ve=o(t(de),2),ze=o(t(ve),2),Fe=t(ze);{var qe=B=>{var J=fe();T(Ce=>A(J,`${Ce??""} MB`),[()=>r(n).memory_used_mb.toFixed(1)]),b(B,J)},Ge=B=>{var J=fe("N/A");b(B,J)};L(Fe,B=>{r(n).memory_used_mb!==null?B(qe):B(Ge,!1)})}a(ze),a(ve),a(de),a(ee);var ye=o(ee,2),Le=t(ye),ce=t(Le),Ke=t(ce);a(ce);var Ue=o(ce,2),Me=o(t(Ue),2),We=t(Me,!0);a(Me),a(Ue),a(Le),a(ye);var He=o(ye,2),Oe=t(He),Ee=o(t(Oe),2),te=o(t(Ee),2),Ye=t(te,!0);a(te);var Qe=o(te,2);{var Xe=B=>{var J=Vt(),Ce=t(J,!0);a(J),T(()=>A(Ce,r(d))),b(B,J)};L(Qe,B=>{r(d)&&B(Xe)})}a(Ee),a(Oe),a(He),a(u),T(B=>{A(ne,B),I(ce,1,`w-10 h-10 rounded-lg ${r(n).db_status==="healthy"?"bg-emerald-500/20":"bg-red-500/20"} flex items-center justify-center`),I(Ke,0,`w-5 h-5 ${r(n).db_status==="healthy"?"text-emerald-400":"text-red-400"}`),I(Me,1,`text-lg font-semibold ${r(n).db_status==="healthy"?"text-emerald-400":"text-red-400"}`),A(We,r(n).db_status==="healthy"?"Healthy":"Unhealthy"),I(te,1,`mt-1 px-3 py-1 text-sm font-medium rounded-lg transition-all duration-200
										${r(x)?"bg-red-500 text-white hover:bg-red-600":"bg-orange-500/20 text-orange-400 hover:bg-orange-500/30"}`),A(Ye,r(x)?"Confirm Restart?":"Restart")},[()=>w(r(n).uptime_secs)]),U("click",te,_),b(D,u)},ke=D=>{var u=Nt();b(D,u)};L(S,D=>{r(n)?D(W):D(ke,!1)},!0)}b(h,z)};L(be,h=>{r(i)?h(_e):h(we,!1)})}a(oe),a(p),me(2),a(H),T(()=>{A(Q,r(l)),Z.disabled=r(m),I(E,0,`w-4 h-4 ${r(m)?"animate-spin":""}`)}),U("click",q,v),U("click",Z,c),b(e,H),ge()}var Pt=C('<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900"><div class="text-center"><div class="animate-spin w-8 h-8 border-4 border-emerald-500 border-t-transparent rounded-full mx-auto"></div> <p class="mt-4 text-slate-400">Loading...</p></div></div>');function Zt(e,s){xe(s,!1);let l=y(!1),n=y(!0);Pe(()=>{le.init()}),le.subscribe(v=>{f(l,v.isAuthenticated),f(n,v.loading)}),he();var i=Be(),m=pe(i);{var x=v=>{var c=Pt();b(v,c)},d=v=>{var c=Be(),_=pe(c);{var w=k=>{It(k,{})},H=k=>{zt(k,{})};L(_,k=>{r(l)?k(w):k(H,!1)},!0)}b(v,c)};L(m,v=>{r(n)?v(x):v(d,!1)})}b(e,i),ge()}export{Zt as component};
