import{b as de,d as ze,f as C,a as w,t as he,c as ce}from"../chunks/DrCJRn1F.js";import{i as Q}from"../chunks/D91holPO.js";import{o as Le}from"../chunks/DPxI6g8O.js";import{aj as j,h as P,m as ve,N as Oe,aQ as Be,k as ue,C as Ue,i as Ee,aM as Ve,aJ as De,j as Re,g as W,as as Ne,aR as He,aS as Je,aT as Pe,aU as Fe,aV as Ie,aW as qe,q as H,aO as Ge,d as E,aq as Ke,aX as We,p as X,ad as r,ae as p,G as d,a4 as k,ag as s,ai as Y,a as Z,L as f,ah as se,Z as Ye}from"../chunks/CltlFA8S.js";import{i as D}from"../chunks/DQmYbFqU.js";import{a as F,s as ee,u as Qe,b as Xe,c as Ze}from"../chunks/BUupbkpg.js";import{e as S,s as V}from"../chunks/2_LbdYvd.js";import{p as J}from"../chunks/CBsvdH31.js";function $e(e,t,a=!1,u=!1,l=!1){var c=e,h="";j(()=>{var n=Oe;if(h===(h=t()??"")){P&&ve();return}if(n.nodes!==null&&(Be(n.nodes.start,n.nodes.end),n.nodes=null),h!==""){if(P){ue.data;for(var o=ve(),i=o;o!==null&&(o.nodeType!==Ue||o.data!=="");)i=o,o=Ee(o);if(o===null)throw Ve(),De;de(ue,i),c=Re(o);return}var x=h+"";a?x=`<svg>${x}</svg>`:u&&(x=`<math>${x}</math>`);var b=ze(x);if((a||u)&&(b=W(b)),de(W(b),b.lastChild),a||u)for(;W(b);)c.before(W(b));else c.before(b)}})}const et=Symbol("is custom element"),tt=Symbol("is html");function fe(e){if(P){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var u=e.value;le(e,"value",null),e.value=u}if(e.hasAttribute("checked")){var l=e.checked;le(e,"checked",null),e.checked=l}}};e.__on_r=a,Ne(a),He()}}function le(e,t,a,u){var l=at(e);P&&(l[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||l[t]!==(l[t]=a)&&(t==="loading"&&(e[Fe]=a),a==null?e.removeAttribute(t):typeof a!="string"&&rt(e).includes(t)?e[t]=a:e.setAttribute(t,a))}function at(e){return e.__attributes??={[et]:e.nodeName.includes("-"),[tt]:e.namespaceURI===Je}}var me=new Map;function rt(e){var t=e.getAttribute("is")||e.nodeName,a=me.get(t);if(a)return a;me.set(t,a=[]);for(var u,l=e,c=Element.prototype;c!==l;){u=Ie(l);for(var h in u)u[h].set&&a.push(h);l=Pe(l)}return a}function pe(e,t,a=t){var u=new WeakSet;qe(e,"input",async l=>{var c=l?e.defaultValue:e.value;if(c=te(e)?ae(c):c,a(c),H!==null&&u.add(H),await Ge(),c!==(c=t())){var h=e.selectionStart,n=e.selectionEnd,o=e.value.length;if(e.value=c??"",n!==null){var i=e.value.length;h===n&&n===o&&i>o?(e.selectionStart=i,e.selectionEnd=i):(e.selectionStart=h,e.selectionEnd=Math.min(n,i))}}}),(P&&e.defaultValue!==e.value||E(t)==null&&e.value)&&(a(te(e)?ae(e.value):e.value),H!==null&&u.add(H)),Ke(()=>{var l=t();if(e===document.activeElement){var c=We??H;if(u.has(c))return}te(e)&&l===ae(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function te(e){var t=e.type;return t==="number"||t==="range"}function ae(e){return e===""?null:+e}function st(e){return function(...t){var a=t[0];return a.preventDefault(),e?.apply(this,t)}}var lt=C('<div class="bg-red-500/10 border border-red-500/50 rounded-lg p-4"><p class="text-red-400 text-sm text-center"> </p></div>'),ot=C('<span class="inline-flex items-center"><svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Signing in...</span>'),it=C('<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900"><div class="w-full max-w-md"><div class="bg-slate-800/50 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-700/50 p-8"><div class="text-center mb-8"><div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-emerald-400 to-cyan-500 mb-4"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg></div> <h1 class="text-2xl font-bold text-white">Admin Console</h1> <p class="text-slate-400 mt-2">SOTA/POTA Reference Manager</p></div> <form class="space-y-6"><!> <div><label for="email" class="block text-sm font-medium text-slate-300 mb-2">Email</label> <input type="email" id="email" required class="w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all" placeholder="admin@example.com"/></div> <div><label for="password" class="block text-sm font-medium text-slate-300 mb-2">Password</label> <input type="password" id="password" required class="w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all" placeholder="Enter your password"/></div> <button type="submit" class="w-full py-3 px-4 bg-gradient-to-r from-emerald-500 to-cyan-500 hover:from-emerald-600 hover:to-cyan-600 text-white font-semibold rounded-lg shadow-lg shadow-emerald-500/25 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"><!></button></form></div> <p class="text-center text-slate-500 text-sm mt-6">Secured by Firebase Authentication</p></div></div>');function nt(e,t){X(t,!1);let a=k(""),u=k(""),l=k(""),c=k(!1);async function h(){f(l,""),f(c,!0);const m=await F.login(d(a),d(u));m.success||f(l,m.error||"Login failed"),f(c,!1)}Q();var n=it(),o=r(n),i=r(o),x=p(r(i),2),b=r(x);{var T=m=>{var y=lt(),q=r(y),G=r(q,!0);s(q),s(y),j(()=>V(G,d(l))),w(m,y)};D(b,m=>{d(l)&&m(T)})}var _=p(b,2),z=p(r(_),2);fe(z),s(_);var A=p(_,2),L=p(r(A),2);fe(L),s(A);var O=p(A,2),B=r(O);{var I=m=>{var y=ot();w(m,y)},R=m=>{var y=he("Sign In");w(m,y)};D(B,m=>{d(c)?m(I):m(R,!1)})}s(O),s(x),s(i),Y(2),s(o),s(n),j(()=>O.disabled=d(c)),pe(z,()=>d(a),m=>f(a,m)),pe(L,()=>d(u),m=>f(u,m)),S("submit",x,st(h)),w(e,n),Z()}var dt=C('<div class="flex items-center justify-center gap-3"><svg class="w-8 h-8 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <div class="text-left"><p class="text-white font-medium truncate max-w-[200px]"> </p> <p class="text-slate-400 text-sm"> </p></div> <button class="ml-2 p-1 text-slate-400 hover:text-red-400 transition-colors" aria-label="Remove file"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>'),ct=C('<input type="file" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer"/> <svg class="mx-auto h-10 w-10 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg> <p class="mt-2 text-sm text-slate-400"><span class="text-emerald-400 font-medium">クリックしてアップロード</span> またはドラッグ＆ドロップ</p> <p class="text-xs text-slate-500 mt-1">CSVファイルのみ (最大64MB)</p>',1),vt=C("<div><p> </p></div>"),ut=C('<span class="inline-flex items-center justify-center"><svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> アップロード中...</span>'),ft=C('<div class="bg-slate-800/50 backdrop-blur-xl rounded-2xl border border-slate-700/50 overflow-hidden transition-all duration-300 hover:border-slate-600/50 hover:shadow-xl hover:shadow-slate-900/50"><div class="p-6"><div class="flex items-start gap-4 mb-4"><div class="flex-shrink-0 w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-400/20 to-cyan-500/20 flex items-center justify-center"><svg class="w-6 h-6 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><!></svg></div> <div><h3 class="text-lg font-semibold text-white"> </h3> <p class="text-sm text-slate-400"> </p></div></div> <div role="button" tabindex="0"><!></div> <!> <button class="mt-4 w-full py-3 px-4 bg-gradient-to-r from-emerald-500 to-cyan-500 hover:from-emerald-600 hover:to-cyan-600 text-white font-semibold rounded-lg shadow-lg shadow-emerald-500/25 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none"><!></button></div></div>');function re(e,t){X(t,!1);let a=J(t,"title",8),u=J(t,"description",8),l=J(t,"icon",8),c=J(t,"accept",8,".csv"),h=J(t,"onUpload",8),n=k(null),o=k(!1),i=k(null),x=k(!1);function b(v){const g=v.target;g.files&&g.files[0]&&(f(n,g.files[0]),f(i,null))}function T(v){v.preventDefault(),f(x,!1),v.dataTransfer?.files&&v.dataTransfer.files[0]&&(f(n,v.dataTransfer.files[0]),f(i,null))}function _(v){v.preventDefault(),f(x,!0)}function z(){f(x,!1)}async function A(){d(n)&&(f(o,!0),f(i,await h()(d(n))),f(o,!1),d(i).success&&f(n,null))}function L(){f(n,null),f(i,null)}const O={mountain:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3l3.5 7-3 4 6-2 3.5 7 3.5-7 6 2-3-4 3.5-7-6.5 2L12 3l-1 2-6-2z" />',park:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />',location:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />'};Q();var B=ft(),I=r(B),R=r(I),m=r(R),y=r(m),q=r(y);$e(q,()=>(Ye(l()),E(()=>O[l()])),!0),s(y),s(m);var G=p(m,2),$=r(G),xe=r($,!0);s($);var oe=p($,2),ge=r(oe,!0);s(oe),s(G),s(R);var U=p(R,2),be=r(U);{var _e=v=>{var g=dt(),M=p(r(g),2),N=r(M),Ae=r(N,!0);s(N);var ne=p(N,2),Se=r(ne);s(ne),s(M);var je=p(M,2);s(g),j(Te=>{V(Ae,(d(n),E(()=>d(n).name))),V(Se,`${Te??""} KB`)},[()=>(d(n),E(()=>(d(n).size/1024).toFixed(1)))]),S("click",je,L),w(v,g)},we=v=>{var g=ct(),M=se(g);Y(6),j(()=>le(M,"accept",c())),S("change",M,b),w(v,g)};D(be,v=>{d(n)?v(_e):v(we,!1)})}s(U);var ie=p(U,2);{var ke=v=>{var g=vt(),M=r(g),N=r(M,!0);s(M),s(g),j(()=>{ee(g,1,`mt-4 p-3 rounded-lg ${d(i),E(()=>d(i).success?"bg-emerald-500/10 border border-emerald-500/30":"bg-red-500/10 border border-red-500/30")??""}`),ee(M,1,`${d(i),E(()=>d(i).success?"text-emerald-400":"text-red-400")??""} text-sm text-center`),V(N,(d(i),E(()=>d(i).message)))}),w(v,g)};D(ie,v=>{d(i)&&v(ke)})}var K=p(ie,2),ye=r(K);{var Me=v=>{var g=ut();w(v,g)},Ce=v=>{var g=he("アップロード");w(v,g)};D(ye,v=>{d(o)?v(Me):v(Ce,!1)})}s(K),s(I),s(B),j(()=>{V(xe,a()),V(ge,u()),ee(U,1,`relative border-2 border-dashed rounded-xl p-6 text-center transition-all duration-200 ${d(x)?"border-emerald-500 bg-emerald-500/10":"border-slate-600 hover:border-slate-500"}`),K.disabled=!d(n)||d(o)}),S("drop",U,T),S("dragover",U,_),S("dragleave",U,z),S("click",K,A),w(e,B),Z()}var mt=C('<div class="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900"><nav class="bg-slate-800/50 backdrop-blur-xl border-b border-slate-700/50"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex items-center justify-between h-16"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-400 to-cyan-500 flex items-center justify-center"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3l3.5 7-3 4 6-2 3.5 7 3.5-7 6 2-3-4 3.5-7-6.5 2L12 3l-1 2-6-2z"></path></svg></div> <div><h1 class="text-lg font-bold text-white">Admin Console</h1> <p class="text-xs text-slate-400">Reference Data Manager</p></div></div> <div class="flex items-center gap-4"><div class="hidden sm:flex items-center gap-2 text-sm text-slate-400"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> <span> </span></div> <button class="inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-slate-300 hover:text-white bg-slate-700/50 hover:bg-slate-700 rounded-lg transition-all duration-200"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg> Logout</button></div></div></div></nav> <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="mb-8"><h2 class="text-2xl font-bold text-white">Reference Data Upload</h2> <p class="text-slate-400 mt-1">Upload CSV files to update reference databases</p></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><!> <!> <!></div> <div class="mt-12 p-6 bg-slate-800/30 rounded-2xl border border-slate-700/50"><h3 class="text-lg font-semibold text-white mb-4">Upload Guidelines</h3> <ul class="space-y-2 text-sm text-slate-400"><li class="flex items-start gap-2"><svg class="w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span>Files must be in CSV format with UTF-8 encoding</span></li> <li class="flex items-start gap-2"><svg class="w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span>Maximum file size: 64MB</span></li> <li class="flex items-start gap-2"><svg class="w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span>Existing records will be updated, new records will be added</span></li></ul></div></main> <footer class="mt-auto py-6 text-center text-slate-500 text-sm"><p>SOTA/POTA Reference Manager &copy; 2025</p></footer></div>');function pt(e,t){X(t,!1);let a=k("");F.subscribe(B=>{f(a,B.email||"")});function u(){F.logout()}Q();var l=mt(),c=r(l),h=r(c),n=r(h),o=p(r(n),2),i=r(o),x=p(r(i),2),b=r(x,!0);s(x),s(i);var T=p(i,2);s(o),s(n),s(h),s(c);var _=p(c,2),z=p(r(_),2),A=r(z);re(A,{title:"POTA Parks",description:"Upload POTA park reference list",icon:"park",accept:".csv",get onUpload(){return Qe}});var L=p(A,2);re(L,{title:"SOTA JA Summits",description:"Upload SOTA Japan summit reference",icon:"mountain",accept:".csv",get onUpload(){return Xe}});var O=p(L,2);re(O,{title:"JCC/JCG List",description:"Upload JCC/JCG location codes",icon:"location",accept:".csv",get onUpload(){return Ze}}),s(z),Y(2),s(_),Y(2),s(l),j(()=>V(b,d(a))),S("click",T,u),w(e,l),Z()}var ht=C('<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900"><div class="text-center"><div class="animate-spin w-8 h-8 border-4 border-emerald-500 border-t-transparent rounded-full mx-auto"></div> <p class="mt-4 text-slate-400">Loading...</p></div></div>');function Ct(e,t){X(t,!1);let a=k(!1),u=k(!0);Le(()=>{F.init()}),F.subscribe(o=>{f(a,o.isAuthenticated),f(u,o.loading)}),Q();var l=ce(),c=se(l);{var h=o=>{var i=ht();w(o,i)},n=o=>{var i=ce(),x=se(i);{var b=_=>{pt(_,{})},T=_=>{nt(_,{})};D(x,_=>{d(a)?_(b):_(T,!1)},!0)}w(o,i)};D(c,o=>{d(u)?o(h):o(n,!1)})}w(e,l),Z()}export{Ct as component};
