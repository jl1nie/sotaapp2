# SOTAApp2 - ã‚¢ãƒãƒãƒ¥ã‚¢ç„¡ç·šã‚¢ãƒ¯ãƒ¼ãƒ‰ãƒ—ãƒ­ã‚°ãƒ©ãƒ ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

**MyACTã®æ¬¡ä¸–ä»£ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰Webã‚µãƒ¼ãƒ“ã‚¹**

SOTAApp2ã¯ã€ã‚¢ãƒãƒãƒ¥ã‚¢ç„¡ç·šã®ã‚¢ãƒ¯ãƒ¼ãƒ‰ãƒ—ãƒ­ã‚°ãƒ©ãƒ ï¼ˆSOTAã€POTAï¼‰ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®é«˜æ€§èƒ½ãƒ»é«˜å¯ç”¨æ€§Webã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚ãƒ˜ã‚­ã‚µã‚´ãƒŠãƒ«ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¡ç”¨ã—ã€Rustã§å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

æœ¬ã‚·ã‚¹ãƒ†ãƒ ã¯**ãƒ˜ã‚­ã‚µã‚´ãƒŠãƒ«ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆClean Architectureï¼‰**ã‚’æ¡ç”¨ã—ã€ä»¥ä¸‹ã®6ã¤ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API                      â”‚ â† RESTã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãƒ»èªè¨¼ãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  Service                    â”‚ â† ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãƒ»ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  Domain                     â”‚ â† ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ»ãƒãƒªãƒ¥ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  Adapter                    â”‚ â† DBãƒ»å¤–éƒ¨APIãƒ»APRSãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¯ã‚»ã‚¹
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  Registry                   â”‚ â† ä¾å­˜æ€§æ³¨å…¥ãƒ»ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  Common                     â”‚ â† å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»è¨­å®šãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è²¬å‹™

#### ğŸŒ APIå±¤ï¼ˆ`api/`ï¼‰
- **è²¬å‹™**: RESTã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã€èªè¨¼ãƒ»èªå¯ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†
- **æŠ€è¡“**: Axumã€Firebase Authã€CORS
- **ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
  - ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ï¼ˆSOTAã€POTAã€èªè¨¼ã€ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ï¼‰
  - ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ï¼ˆèªè¨¼ã€CORSï¼‰
  - DTOãƒ¢ãƒ‡ãƒ«

#### ğŸ¯ Serviceå±¤ï¼ˆ`service/`ï¼‰
- **è²¬å‹™**: ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å®Ÿè£…ã€ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†
- **ãƒ‘ã‚¿ãƒ¼ãƒ³**: Application Service ãƒ‘ã‚¿ãƒ¼ãƒ³
- **ä¸»è¦ã‚µãƒ¼ãƒ“ã‚¹**:
  - `UserService`: ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘æ©Ÿèƒ½
  - `AdminService`: ç®¡ç†è€…å‘ã‘æ©Ÿèƒ½
  - `AdminPeriodicService`: ãƒãƒƒãƒå‡¦ç†ãƒ»å®šæœŸå®Ÿè¡Œ

#### ğŸ›ï¸ Domainå±¤ï¼ˆ`domain/`ï¼‰
- **è²¬å‹™**: ãƒ“ã‚¸ãƒã‚¹ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€ãƒãƒªãƒ¥ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯
- **ä¸»è¦ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£**:
  - `Activation`: ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆAlert/Spotï¼‰
  - `SOTAReference`: SOTAå±±å²³ãƒ‡ãƒ¼ã‚¿
  - `POTAReference`: POTAå…¬åœ’ãƒ‡ãƒ¼ã‚¿
  - `AprsLog`: APRSé€šä¿¡ãƒ­ã‚°

#### ğŸ”Œ Adapterå±¤ï¼ˆ`adapter/`ï¼‰
- **è²¬å‹™**: å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ é€£æºã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ã€ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£
- **å¤–éƒ¨é€£æº**:
  - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆSQLite/PostgreSQLï¼‰
  - APRS-ISï¼ˆç„¡ç·šãƒ‡ãƒ¼ã‚¿ï¼‰
  - åœ°ç£æ°—ãƒ‡ãƒ¼ã‚¿API
  - SOTA/POTAã‚ªãƒ¼ãƒ—ãƒ³ãƒ‡ãƒ¼ã‚¿

#### ğŸ”§ Registryå±¤ï¼ˆ`registry/`ï¼‰
- **è²¬å‹™**: ä¾å­˜æ€§æ³¨å…¥ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆç®¡ç†
- **æŠ€è¡“**: Shaku DI ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **è¨­è¨ˆ**: å®Ÿè¡Œæ™‚ä¾å­˜æ€§è§£æ±º

#### ğŸ“š Commonå±¤ï¼ˆ`common/`ï¼‰
- **è²¬å‹™**: å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€è¨­å®šç®¡ç†ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: è¨­å®šã€ã‚¨ãƒ©ãƒ¼å‹ã€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£

## ğŸš€ ä¸»è¦æ©Ÿèƒ½

### SOTAï¼ˆSummits on the Airï¼‰ç®¡ç†
- å±±å²³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†
- ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³äºˆå‘Šï¼ˆAlertï¼‰ãƒ»é‹ç”¨å ±å‘Šï¼ˆSpotï¼‰
- ãƒ­ã‚°ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»é€²æ—ç®¡ç†

### POTAï¼ˆParks on the Airï¼‰ç®¡ç†
- å…¬åœ’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†
- ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¹ãƒãƒƒãƒˆç®¡ç†

### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡
- APRS-ISé€£æºã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ä½ç½®æƒ…å ±
- WebSocketå¯¾å¿œäºˆå®š

### ãƒ‡ãƒ¼ã‚¿ç®¡ç†ãƒ»åˆ†æ
- åœ°ç£æ°—ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»åˆ†æ
- CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- çµ±è¨ˆãƒ»ãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ã‚³ã‚¢ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼
- **è¨€èª**: Rust 2021 Edition
- **Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Axum 0.8
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: SQLite / PostgreSQLï¼ˆSQLxï¼‰
- **èªè¨¼**: Firebase Authentication
- **DI**: Shaku
- **éåŒæœŸ**: Tokio
- **ãƒ­ã‚°**: tracing

### å¤–éƒ¨é€£æº
- **APRS**: aprs-message ã‚¯ãƒ¬ãƒ¼ãƒˆ
- **åœ°ç†æƒ…å ±**: geographiclib-rsã€maidenhead
- **ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«**: tokio-cron-scheduler

### ã‚¤ãƒ³ãƒ•ãƒ©
- **ã‚³ãƒ³ãƒ†ãƒŠ**: Docker / Docker Compose
- **ãƒ‡ãƒ—ãƒ­ã‚¤**: Fly.io
- **CI/CD**: GitHub Actionsï¼ˆæƒ³å®šï¼‰

## ğŸ“‹ é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ–¹é‡

| ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ | ä¸»è¦ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å¯¾è±¡ | å¤‰æ›´é »åº¦ | æ³¨æ„ç‚¹ |
|-------------|-------------------|----------|--------|
| **æ–°æ©Ÿèƒ½è¿½åŠ ** | Service â†’ API â†’ Domain | é«˜ | ãƒ‰ãƒ¡ã‚¤ãƒ³å¤‰æ›´ã¯æ…é‡ã« |
| **å¤–éƒ¨APIå¤‰æ›´** | Adapter | ä¸­ | ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ç¶­æŒ |
| **UI/UXæ”¹å–„** | APIï¼ˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãƒ»ãƒ¢ãƒ‡ãƒ«ï¼‰ | é«˜ | DTOã¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã®åˆ†é›¢ |
| **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹** | Adapter â†’ Service | ä¸­ | N+1å•é¡Œã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ |
| **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£** | APIï¼ˆèªè¨¼ï¼‰â†’ Common | ä½ | èªè¨¼ãƒ»èªå¯ãƒ­ã‚¸ãƒƒã‚¯ |
| **ãƒ‡ãƒ¼ã‚¿ç§»è¡Œ** | Adapterï¼ˆmigrationsï¼‰ | ä½ | ã‚¹ã‚­ãƒ¼ãƒãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚° |
| **è¨­å®šå¤‰æ›´** | Common | ä¸­ | ç’°å¢ƒå¤‰æ•°ãƒ»è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« |

### é–‹ç™ºãƒ•ãƒ­ãƒ¼æ¨å¥¨äº‹é …

1. **ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: æ–°æ©Ÿèƒ½ã¯Domainã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆ
2. **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: å„å±¤ã§ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆå®Ÿè£…
3. **ä¾å­˜æ€§ã®æ–¹å‘**: å†…å´â†’å¤–å´ã®ä¾å­˜ã®ã¿
4. **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¨­è¨ˆ**: traitã«ã‚ˆã‚‹æŠ½è±¡åŒ–
5. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: anyhow + thiserrorã«ã‚ˆã‚‹æ§‹é€ åŒ–

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

```rust
// âœ… è‰¯ã„ä¾‹: ãƒˆãƒ¬ã‚¤ãƒˆã«ã‚ˆã‚‹æŠ½è±¡åŒ–
#[async_trait]
pub trait UserService {
    async fn find_user(&self, id: UserId) -> AppResult<User>;
}

// âœ… è‰¯ã„ä¾‹: å‹å®‰å…¨æ€§
pub struct SummitCode(String);
impl SummitCode {
    pub fn new(code: String) -> Self {
        // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
        Self(code)
    }
}

// âŒ æ‚ªã„ä¾‹: ç›´æ¥çš„ãªä¾å­˜
// Serviceå±¤ã‹ã‚‰Adapterå®Ÿè£…ã«ç›´æ¥ä¾å­˜
```

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å‰ææ¡ä»¶
- Rust 1.70+
- Docker & Docker Compose
- SQLite ã¾ãŸã¯ PostgreSQL

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/your-org/sotaapp2.git
cd sotaapp2

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
cargo build

# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«æº–å‚™
cp .env.example .env
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æº–å‚™ï¼ˆSQLiteï¼‰
cargo run --bin migration

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
cargo run --bin app
```

### Dockerä½¿ç”¨

```bash
# SQLiteä½¿ç”¨
DOCKER_FILE=Dockerfile.sqlite docker-compose up

# PostgreSQLä½¿ç”¨  
DOCKER_FILE=Dockerfile docker-compose up
```

## ğŸ“Š API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### SOTA API
```
GET    /api/v2/sota/spots          # ã‚¹ãƒãƒƒãƒˆä¸€è¦§
GET    /api/v2/sota/alerts         # ã‚¢ãƒ©ãƒ¼ãƒˆä¸€è¦§
GET    /api/v2/sota/summits        # å±±å²³ä¸€è¦§
POST   /api/v2/sota/log           # ãƒ­ã‚°ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆè¦èªè¨¼ï¼‰
```

### POTA API
```
GET    /api/v2/pota/spots          # ã‚¹ãƒãƒƒãƒˆä¸€è¦§
GET    /api/v2/pota/alerts         # ã‚¢ãƒ©ãƒ¼ãƒˆä¸€è¦§
GET    /api/v2/pota/parks          # å…¬åœ’ä¸€è¦§
```

### ç®¡ç†API
```
POST   /api/v2/sota/import         # CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆè¦ç®¡ç†è€…æ¨©é™ï¼‰
PUT    /api/v2/sota/summits/{code} # å±±å²³ãƒ‡ãƒ¼ã‚¿æ›´æ–°ï¼ˆè¦ç®¡ç†è€…æ¨©é™ï¼‰
```

## ğŸ”§ è¨­å®šé …ç›®

### ç’°å¢ƒå¤‰æ•°

| å¤‰æ•°å | èª¬æ˜ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ |
|--------|------|-----------|
| `DATABASE_URL` | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹URL | `sqlite:sotaapp2.db` |
| `FIREBASE_API_KEY` | Firebase APIã‚­ãƒ¼ | - |
| `HOST` | ãƒã‚¤ãƒ³ãƒ‰ãƒ›ã‚¹ãƒˆ | `0.0.0.0` |
| `PORT` | ãƒãƒ¼ãƒˆç•ªå· | `8080` |
| `LOG_LEVEL` | ãƒ­ã‚°ãƒ¬ãƒ™ãƒ« | `info` |

è©³ç´°ã¯`docker-compose.yaml`å‚ç…§ã€‚

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
makers test

# CIç”¨ãƒ†ã‚¹ãƒˆï¼ˆfmt-check + clippy-strict + testï¼‰
makers ci
```

### Docker E2Eãƒ†ã‚¹ãƒˆ

Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã«å¯¾ã™ã‚‹åŒ…æ‹¬çš„ãªE2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

```bash
# Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
makers e2e

# æ—¢å­˜ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œ
makers e2e-test jl1nie/sotaapp2:latest

# ãƒ†ã‚¹ãƒˆã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆæ‰‹å‹•ç¢ºèªç”¨ï¼‰
makers e2e-server
makers e2e-stop
```

E2Eãƒ†ã‚¹ãƒˆã¯ä»¥ä¸‹ã®4ãƒ•ã‚§ãƒ¼ã‚ºã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ï¼š

| ãƒ•ã‚§ãƒ¼ã‚º | ãƒ†ã‚¹ãƒˆå†…å®¹ |
|---------|-----------|
| BUILD | å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ãƒ»migrationsãƒ»staticã®å­˜åœ¨ç¢ºèª |
| RUNTIME | SSL/TLSæ¥ç¶šãƒ»ca-certificatesãƒ»libsslç¢ºèª |
| APP | CLIã‚³ãƒãƒ³ãƒ‰ï¼ˆhelp, migrateç­‰ï¼‰ã®å‹•ä½œç¢ºèª |
| SERVER/API | ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ãƒ»ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ãƒ»ä¸»è¦APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ |

è©³ç´°ã¯ [docs/docker-e2e-test-plan.md](docs/docker-e2e-test-plan.md) ã‚’å‚ç…§ã€‚

### CI/CD

GitHub Actionsã§ä»¥ä¸‹ãŒè‡ªå‹•å®Ÿè¡Œã•ã‚Œã¾ã™ï¼š

- **CI Pipeline**: fmt, clippy, ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
- **Build Release**: ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰
- **Docker Build & E2E Test**: Dockerãƒ“ãƒ«ãƒ‰ãƒ»E2Eãƒ†ã‚¹ãƒˆ

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤

è©³ç´°ã¯ [docs/deployment-manual.md](docs/deployment-manual.md) ã‚’å‚ç…§ã€‚

### Fly.ioãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# é€šå¸¸ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä»˜ãï¼‰
makers deploy

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãªã—ãƒ‡ãƒ—ãƒ­ã‚¤
makers deploy-no-backup

# Fly.ioç›´æ¥ãƒ‡ãƒ—ãƒ­ã‚¤
makers fly-deploy
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†

```bash
# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
makers fly-backup

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¸€è¦§
makers fly-db-list

# ãƒªã‚¹ãƒˆã‚¢
makers fly-db-restore /data/backup_YYYYMMDD_HHMMSS.db

# æœ€é©åŒ–
makers fly-db-optimize
```

### æœ¬ç•ªç’°å¢ƒè¨­å®š
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: SQLiteï¼ˆæ°¸ç¶šãƒœãƒªãƒ¥ãƒ¼ãƒ ï¼‰
- ãƒ¡ãƒ¢ãƒª: 256MB
- CPU: shared-1x

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

è©³ã—ã„é–‹ç™ºãƒ•ãƒ­ãƒ¼ã¯ [Repository Guidelines](AGENTS.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

1. Issueã¾ãŸã¯æ©Ÿèƒ½ææ¡ˆä½œæˆ
2. ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
3. å¤‰æ›´å®Ÿè£…ï¼ˆãƒ†ã‚¹ãƒˆå«ã‚€ï¼‰
4. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ

### ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»æ›´æ–°
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
- [ ] Lintã‚¨ãƒ©ãƒ¼è§£æ¶ˆ
- [ ] APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå¤‰æ›´ã®å ´åˆã€OpenAPIæ›´æ–°

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯[MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹](LICENSE)ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

- ğŸ“§ Issue: [GitHub Issues](https://github.com/your-org/sotaapp2/issues)
- ğŸ’¬ ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³: [GitHub Discussions](https://github.com/your-org/sotaapp2/discussions)

---

**Happy Coding! 73! ğŸ¯ğŸ“¡**

